# Web Admin ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Rust (Axum) åç«¯å’Œ Angular å‰ç«¯çš„ç°ä»£åŒ– Web ç®¡ç†ç³»ç»Ÿï¼Œæä¾›å®Œæ•´çš„ç”¨æˆ·è®¤è¯ã€RBAC æƒé™ç®¡ç†å’Œç®¡ç†ç•Œé¢ã€‚

## é¡¹ç›®æ¦‚è§ˆ

æœ¬é¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼š
- **åç«¯**: ä½¿ç”¨ Rust + Axum æ¡†æ¶ï¼Œæä¾› RESTful API æœåŠ¡
- **å‰ç«¯**: ä½¿ç”¨ Angular 20 + ng-zorro-antdï¼Œæä¾›ç°ä»£åŒ–ç®¡ç†ç•Œé¢

## åŠŸèƒ½ç‰¹æ€§

### ğŸ” è®¤è¯ç³»ç»Ÿ
- JWT ä»¤ç‰Œè®¤è¯
- ç”¨æˆ·æ³¨å†Œä¸ç™»å½•
- å¯†ç åŠ å¯†å­˜å‚¨ (bcrypt)
- è‡ªåŠ¨ token ç®¡ç†

### ğŸ›¡ï¸ æƒé™ç®¡ç† (RBAC)
- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- ç”¨æˆ·ã€è§’è‰²ã€æƒé™ä¸‰çº§ç®¡ç†
- çµæ´»çš„æƒé™åˆ†é…æœºåˆ¶
- è·¯ç”±çº§åˆ«çš„æƒé™ä¿æŠ¤

### ğŸ“Š ç®¡ç†åŠŸèƒ½
- ç”¨æˆ·ç®¡ç†ï¼šåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€çŠ¶æ€ç®¡ç†
- è§’è‰²ç®¡ç†ï¼šè§’è‰²åˆ†é…ã€æƒé™ç»‘å®š
- æƒé™ç®¡ç†ï¼šç»†ç²’åº¦æƒé™æ§åˆ¶
- ç³»ç»Ÿä»ªè¡¨ç›˜ï¼šæ•°æ®ç»Ÿè®¡å±•ç¤º
- ç³»ç»Ÿæ—¥å¿—ï¼šæ“ä½œè®°å½•è¿½è¸ª
- ä¸ªäººä¿¡æ¯ï¼šç”¨æˆ·èµ„æ–™ç®¡ç†
- ç³»ç»Ÿè®¾ç½®ï¼šå‚æ•°é…ç½®ç®¡ç†

## æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **æ¡†æ¶**: Axum (Rust å¼‚æ­¥ Web æ¡†æ¶)
- **æ•°æ®åº“**: PostgreSQL + SeaORM
- **è®¤è¯**: JWT + bcrypt
- **åºåˆ—åŒ–**: Serde
- **éªŒè¯**: Validator
- **æ—¥å¿—**: Tracing
- **å¼‚æ­¥**: Tokio

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: Angular 20
- **UI ç»„ä»¶**: ng-zorro-antd 20.1.3
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: SCSS
- **çŠ¶æ€ç®¡ç†**: Angular Services
- **HTTP å®¢æˆ·ç«¯**: Angular HttpClient

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

**åç«¯**:
- Rust 1.70+
- PostgreSQL 12+
- Cargo

**å‰ç«¯**:
- Node.js 18+
- npm æˆ– yarn
- Angular CLI

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd web-admin
```

### 2. åç«¯è®¾ç½®

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å®‰è£…ä¾èµ–
cargo build

# åˆ›å»ºæ•°æ®åº“
createdb rust_web_admin

# è¿è¡Œæ•°æ®åº“è¿ç§»
psql -d rust_web_admin -f migrations/001_initial_schema.sql
psql -d rust_web_admin -f migrations/002_initial_data.sql

# åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶
cp env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥å’Œ JWT å¯†é’¥

# å¯åŠ¨åç«¯æœåŠ¡
cargo run
```

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

### 3. å‰ç«¯è®¾ç½®

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm start
```

å‰ç«¯åº”ç”¨å°†åœ¨ `http://localhost:4200` å¯åŠ¨ã€‚

### 4. ä½¿ç”¨ Docker (æ¨è)

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

## é¡¹ç›®ç»“æ„

```
web-admin/
â”œâ”€â”€ backend/                 # Rust åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ auth.rs         # è®¤è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ database.rs     # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ routes/         # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ rbac.rs         # æƒé™ç®¡ç†
â”‚   â”‚   â””â”€â”€ main.rs         # ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ migrations/         # æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ Cargo.toml          # Rust ä¾èµ–é…ç½®
â”‚   â””â”€â”€ .env.example        # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ frontend/               # Angular å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/      # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ services/   # æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ guards/     # è·¯ç”±å®ˆå«
â”‚   â”‚   â”‚   â””â”€â”€ interceptors/ # HTTP æ‹¦æˆªå™¨
â”‚   â”‚   â””â”€â”€ assets/         # é™æ€èµ„æº
â”‚   â”œâ”€â”€ package.json        # Node.js ä¾èµ–é…ç½®
â”‚   â””â”€â”€ angular.json        # Angular é…ç½®
â”œâ”€â”€ docs/                   # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ scripts/                # å¸¸ç”¨è„šæœ¬
â”œâ”€â”€ docker-compose.yml      # Docker ç¼–æ’é…ç½®
â”œâ”€â”€ Dockerfile.backend      # åç«¯ Docker é•œåƒ
â”œâ”€â”€ Dockerfile.frontend     # å‰ç«¯ Docker é•œåƒ
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```


## é»˜è®¤è´¦æˆ·

ç³»ç»Ÿåˆå§‹åŒ–åä¼šåˆ›å»ºé»˜è®¤è¶…çº§ç®¡ç†å‘˜è´¦æˆ·ï¼š

- **ç”¨æˆ·å**: admin
- **å¯†ç **: admin123
- **è§’è‰²**: è¶…çº§ç®¡ç†å‘˜

## å¼€å‘æŒ‡å—

### åç«¯å¼€å‘

1. **æ·»åŠ æ–°çš„ API æ¥å£**:
   - åœ¨ `src/models/` ä¸­å®šä¹‰æ•°æ®æ¨¡å‹
   - åœ¨ `src/routes/` ä¸­å®ç°è·¯ç”±å¤„ç†
   - åœ¨ `src/main.rs` ä¸­æ³¨å†Œè·¯ç”±

2. **æ•°æ®åº“è¿ç§»**:
   ```bash
   # åˆ›å»ºæ–°è¿ç§»æ–‡ä»¶
   # åœ¨ migrations/ ç›®å½•ä¸‹åˆ›å»º SQL æ–‡ä»¶
   ```

### å‰ç«¯å¼€å‘

1. **æ·»åŠ æ–°é¡µé¢**:
   - åœ¨ `src/app/pages/` åˆ›å»ºç»„ä»¶
   - åœ¨ `app.routes.ts` é…ç½®è·¯ç”±
   - ä½¿ç”¨ `AuthGuard` ä¿æŠ¤éœ€è¦è®¤è¯çš„è·¯ç”±

2. **æ·»åŠ æ–°æœåŠ¡**:
   - åœ¨ `src/app/services/` åˆ›å»ºæœåŠ¡
   - æ³¨å…¥åˆ°éœ€è¦çš„ç»„ä»¶ä¸­

## éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. **ä½¿ç”¨ Docker Compose** (æ¨è):
   ```bash
   # ç”Ÿäº§ç¯å¢ƒå¯åŠ¨
   docker-compose -f docker-compose.prod.yml up -d
   ```

2. **æ‰‹åŠ¨éƒ¨ç½²**:
   ```bash
   # æ„å»ºåç«¯
   cd backend && cargo build --release

   # æ„å»ºå‰ç«¯
   cd frontend && npm run build --prod

   # éƒ¨ç½²åˆ°æœåŠ¡å™¨
   ```

### ç¯å¢ƒé…ç½®

ç”Ÿäº§ç¯å¢ƒéœ€è¦è®¾ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```env
# æ•°æ®åº“é…ç½®
DATABASE_URL=postgresql://user:password@localhost:5432/dbname

# JWT é…ç½®
JWT_SECRET=your-strong-jwt-secret-key
JWT_EXPIRATION=24h

# æ—¥å¿—çº§åˆ«
RUST_LOG=info
```

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ [docs/](./docs/) ç›®å½•ä¸‹çš„è¯¦ç»†æ–‡æ¡£æˆ–åˆ›å»º Issueã€‚
